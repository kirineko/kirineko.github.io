import{_ as i,c as a,a as t,o as l}from"./app-BVMcoHqx.js";const e={};function n(h,s){return l(),a("div",null,s[0]||(s[0]=[t(`<p>Dataclasses是一些适合于存储数据对象<code>(data object)</code>的Python类。 Python 3.7提供了一个装饰器dataclass, 用以把一个类转化为dataclass.</p><hr><h3 id="_1-什么是dataclass" tabindex="-1"><a class="header-anchor" href="#_1-什么是dataclass"><span>1. 什么是Dataclass</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dataclasses </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dataclass</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">dataclass</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> Book</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>等价于</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> Book</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __init__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">title </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> title</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __repr__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        return</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">__class__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">__name__</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">(title=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">title</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!r</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">)&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __eq__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> other</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> Book</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        return</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ==</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">other</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-dataclass的特点" tabindex="-1"><a class="header-anchor" href="#_2-dataclass的特点"><span>2. Dataclass的特点</span></a></h3><ul><li>支持类型定义</li><li>支持默认值</li><li>支持比较</li><li>无需编写<code>__init__</code>,<code>__repr__</code>,<code>__eq__</code>方法</li></ul><h3 id="_3-dataclass装饰器参数" tabindex="-1"><a class="header-anchor" href="#_3-dataclass装饰器参数"><span>3. dataclass装饰器参数</span></a></h3><p>@dataclass(init=True, repr=True, eq=True, order=False, unsafe_hash=False, frozen=False)</p><ul><li>init: 自动生成初始化函数</li><li>repr: 自动生成repr函数</li><li>eq: 自动生成比较函数</li><li>order: 生成<code>__lt__</code>,<code>__le__</code>,<code>__gt__</code>,<code>__ge__</code>函数, 支持排序</li><li>frozen: 生成不可变的dataclass</li></ul><h3 id="_4-其他说明" tabindex="-1"><a class="header-anchor" href="#_4-其他说明"><span>4. 其他说明</span></a></h3><ul><li><code>__post_init__</code>方法: 支持<code>__init__</code>后的后处理</li><li>继承: Dataclass支持继承, 需要注意继承的参数顺序</li></ul>`,13)]))}const p=i(e,[["render",n]]),r=JSON.parse('{"path":"/article/3grnm2ev/","title":"Python Dataclasses","lang":"zh-CN","frontmatter":{"title":"Python Dataclasses","author":"kirineko","summary":"Python Dataclass","tags":["python","type","dataclass"],"createTime":"2022/09/28 00:26:01","permalink":"/article/3grnm2ev/"},"readingTime":{"minutes":0.78,"words":234},"git":{"createdTime":1748366234000,"updatedTime":1748366234000,"contributors":[{"name":"kirineko","username":"kirineko","email":"kirineko@qq.com","commits":1,"avatar":"https://avatars.githubusercontent.com/kirineko?v=4","url":"https://github.com/kirineko"}]},"filePathRelative":"history/python_dataclasses.md","headers":[],"categoryList":[{"id":"3cd15f","sort":10001,"name":"history"}]}');export{p as comp,r as data};
